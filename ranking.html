<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>排行榜 - 书海阁</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .ranking-page {
            background: #f8f9fa;
            min-height: 100vh;
        }
        
        .ranking-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 60px 0 40px;
            text-align: center;
        }
        
        .ranking-header h1 {
            font-size: 36px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .ranking-header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .ranking-nav {
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .ranking-nav-list {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .ranking-nav-item {
            margin: 0 20px;
        }
        
        .ranking-nav-link {
            display: block;
            padding: 15px 25px;
            color: #666;
            text-decoration: none;
            font-weight: 500;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .ranking-nav-link:hover,
        .ranking-nav-link.active {
            color: #007bff;
            border-bottom-color: #007bff;
        }
        
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 30px;
            padding: 30px 0;
        }
        
        .book-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .book-cover {
            width: 100%;
            height: 280px;
            overflow: hidden;
            position: relative;
        }
        
        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .book-card:hover .book-cover img {
            transform: scale(1.05);
        }
        
        .book-rank {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,123,255,0.9);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .book-info {
            padding: 20px;
        }
        
        .book-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-clamp: 2;
            overflow: hidden;
        }
        
        .book-author {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .book-description {
            color: #999;
            font-size: 13px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            line-clamp: 3;
            overflow: hidden;
        }
        
        .book-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #f0f0f0;
        }
        
        .book-rating {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .stars {
            color: #ffc107;
        }
        
        .rating-text {
            color: #666;
            font-size: 12px;
        }
        
        .book-views {
            color: #999;
            font-size: 12px;
        }
        
        .section-title {
            font-size: 24px;
            color: #333;
            margin: 40px 0 20px;
            text-align: center;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: #007bff;
        }
        
        .back-to-home {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 25px;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .back-to-home:hover {
            background: rgba(0,0,0,0.9);
            color: white;
        }
        
        @media (max-width: 768px) {
            .books-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 20px;
            }
            
            .book-cover {
                height: 200px;
            }
            
            .ranking-nav-list {
                flex-wrap: wrap;
            }
            
            .ranking-nav-item {
                margin: 5px 10px;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-to-home">
        <i class="fas fa-arrow-left"></i> 返回首页
    </a>
    
    <div class="ranking-page">
        <div class="ranking-header">
            <div class="container">
                <h1>图书排行榜</h1>
                <p>发现最受欢迎的图书，开启您的阅读之旅</p>
                <div style="margin-top: 20px;">
                    <a href="index.html" style="color: white; margin: 0 15px; text-decoration: none;">首页</a>
                    <a href="daily_read.html" style="color: white; margin: 0 15px; text-decoration: none;">每日一读</a>
                    <a href="reading_history.html" style="color: white; margin: 0 15px; text-decoration: none;">阅读记录</a>
                </div>
            </div>
        </div>
        
        <div class="ranking-nav">
            <div class="container">
                <ul class="ranking-nav-list">
                    <li class="ranking-nav-item">
                        <a href="#" class="ranking-nav-link active" data-category="all">全部</a>
                    </li>
                    <li class="ranking-nav-item">
                        <a href="#" class="ranking-nav-link" data-category="fantasy">玄幻</a>
                    </li>
                    <li class="ranking-nav-item">
                        <a href="#" class="ranking-nav-link" data-category="romance">言情</a>
                    </li>
                    <li class="ranking-nav-item">
                        <a href="#" class="ranking-nav-link" data-category="urban">都市</a>
                    </li>
                    <li class="ranking-nav-item">
                        <a href="#" class="ranking-nav-link" data-category="history">历史</a>
                    </li>
                    <li class="ranking-nav-item">
                        <a href="#" class="ranking-nav-link" data-category="scifi">科幻</a>
                    </li>
                </ul>
            </div>
        </div>
        
        <div class="container">
            <h2 class="section-title">热门推荐</h2>
            <div class="books-grid" id="booksGrid">
                <!-- 动态生成内容 -->
            </div>
        </div>
    </div>
    
    <script src="book_data.js"></script>
    <script>
        // 使用共享的图书数据
        const rankingBooks = [
            {
                id: 1,
                title: "Building Web APIs with ASP.NET Core",
                author: "作者A",
                category: "romance",
                cover: "5204s.jpeg",
                description: "API学习",
                rating: 4.8,
                views: "12.5万",
                rank: 1
            },
            {
                id: 2,
                title: "AI for Everyday IT",
                author: "作者B",
                category: "romance",
                cover: "5205s.jpeg",
                description: "AI for Everyday IT",
                rating: 4.7,
                views: "10.8万",
                rank: 2
            },
            {
                id: 3,
                title: "Redis设计与实现",
                author: "作者C",
                category: "fantasy",
                cover: "5206s.jpeg",
                description: "Redis设计与实现",
                rating: 4.6,
                views: "9.2万",
                rank: 3
            },
            {
                id: 4,
                title: "Redis入门指南（第2版）",
                author: "作者D",
                category: "romance",
                cover: "5207s.jpeg",
                description: "...",
                rating: 4.5,
                views: "8.7万",
                rank: 4
            },
            {
                id: 5,
                title: "Redis开发与运维",
                author: "作者E",
                category: "history",
                cover: "5208s.jpeg",
                description: "...",
                rating: 4.4,
                views: "7.9万",
                rank: 5
            },
            {
                id: 6,
                title: "React快速上手开发",
                author: "作者F",
                category: "romance",
                cover: "5209s.jpeg",
                description: "...",
                rating: 4.3,
                views: "7.2万",
                rank: 6
            },
            {
                id: 7,
                title: "RabbitMQ实战指南",
                author: "作者G",
                category: "fantasy",
                cover: "5210s.jpeg",
                description: "...",
                rating: 4.2,
                views: "6.8万",
                rank: 7
            },
            {
                id: 8,
                title: "Python自动化运维：技术与最佳实践",
                author: "作者H",
                category: "urban",
                cover: "5211s.jpeg",
                description: "...",
                rating: 4.1,
                views: "6.3万",
                rank: 8
            },
            {
                id: 9,
                title: "Python学习手册(第4版)",
                author: "作者I",
                category: "romance",
                cover: "5212s.jpeg",
                description: "...",
                rating: 4.0,
                views: "5.9万",
                rank: 9
            },
            {
                id: 10,
                title: "The Quick Python Book 4th Edition",
                author: "作者J",
                category: "fantasy",
                cover: "5213s.jpeg",
                description: "...",
                rating: 3.9,
                views: "5.5万",
                rank: 10
            },
            {
                id: 11,
                title: "Terraform in Depth",
                author: "作者K",
                category: "urban",
                cover: "5214s.jpeg",
                description: "...",
                rating: 3.8,
                views: "5.1万",
                rank: 11
            },
            {
                id: 12,
                title: "Machine Learning for Tabular Data",
                author: "作者L",
                category: "romance",
                cover: "5215s.jpeg",
                description: "...",
                rating: 3.7,
                views: "4.8万",
                rank: 12
            },
            {
                id: 13,
                title: "Learn SQL in a Month of Lunches",
                author: "作者M",
                category: "fantasy",
                cover: "5216s.jpeg",
                description: "...",
                rating: 3.6,
                views: "4.5万",
                rank: 13
            },
            {
                id: 14,
                title: "Graph Neural Networks in Action",
                author: "作者N",
                category: "scifi",
                cover: "5217s.jpeg",
                description: "...",
                rating: 3.5,
                views: "4.2万",
                rank: 14
            }
        ];
        
        let currentCategory = 'all';
        
        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            loadBooks();
            setupCategoryFilter();
        });
        
        // 加载图书
        function loadBooks() {
            const booksGrid = document.getElementById('booksGrid');
            const filteredBooks = currentCategory === 'all' 
                ? rankingBooks 
                : rankingBooks.filter(book => book.category === currentCategory);
            
            const html = filteredBooks.map(book => `
                <div class="book-card" onclick="goToBookDetail(${book.id})">
                    <div class="book-cover">
                        <img src="${book.cover}" alt="${book.title}" onerror="this.src='https://via.placeholder.com/200x280/cccccc/666666?text=暂无封面'">
                        <div class="book-rank">#${book.rank}</div>
                    </div>
                    <div class="book-info">
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">${book.author}</p>
                        <p class="book-description">${book.description}</p>
                        <div class="book-stats">
                            <div class="book-rating">
                                <div class="stars">${'★'.repeat(Math.floor(book.rating))}${'☆'.repeat(5-Math.floor(book.rating))}</div>
                                <span class="rating-text">${book.rating}</span>
                            </div>
                            <div class="book-views">${book.views}阅读</div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            booksGrid.innerHTML = html;
        }
        
        // 设置分类筛选
        function setupCategoryFilter() {
            const navLinks = document.querySelectorAll('.ranking-nav-link');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // 移除所有活动状态
                    navLinks.forEach(l => l.classList.remove('active'));
                    // 添加当前活动状态
                    this.classList.add('active');
                    
                    // 更新当前分类
                    currentCategory = this.dataset.category;
                    
                    // 重新加载图书
                    loadBooks();
                });
            });
        }
        
        // 跳转到图书详情页面
        function goToBookDetail(bookId) {
            window.location.href = `book_detail.html?id=${bookId}`;
        }
        
        // 显示图书详情（保留原有功能）
        function showBookDetail(bookId) {
            const book = rankingBooks.find(b => b.id === bookId);
            if (book) {
                alert(`图书详情：\n\n书名：${book.title}\n作者：${book.author}\n排名：第${book.rank}名\n评分：${book.rating}分\n阅读量：${book.views}\n\n描述：${book.description}\n\n在实际应用中，这里会跳转到图书详情页。`);
            }
        }
    </script>
</body>
</html>

